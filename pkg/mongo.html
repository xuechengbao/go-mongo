<!DOCTYPE html>
<html>
<head>
<title>Go-Mongo: mongo</title>
<link rel="stylesheet" href="../static/base.css" type="text/css"/> 
</head>
<body>
<div id="content"> 
<h1><a href="..">Go-Mongo</a>: mongo</h1>

<h4>Table Of Contents</h4>
<ul>
<li><a href="#package">Package</a>
<li><a href="#variables">Variables</a>
<li><a href="#Decode">func Decode</a>
<li><a href="#Encode">func Encode</a>
<li><a href="#IndexName">func IndexName</a>
<li><a href="#SplitNamespace">func SplitNamespace</a>
<li><a href="#StructFields">func StructFields</a>
<li><a href="#A">type A</a>
<li><a href="#BSONData">type BSONData</a>
<li><a href="#Code">type Code</a>
<li><a href="#CodeWithScope">type CodeWithScope</a>
<li><a href="#Collection">type Collection</a>
            <ul>
    <li><a href="#Collection.CreateIndex">func (Collection) CreateIndex</a>
    <li><a href="#Collection.Db">func (Collection) Db</a>
    <li><a href="#Collection.Find">func (Collection) Find</a>
    <li><a href="#Collection.FindAndRemove">func (Collection) FindAndRemove</a>
    <li><a href="#Collection.FindAndUpdate">func (Collection) FindAndUpdate</a>
    <li><a href="#Collection.Insert">func (Collection) Insert</a>
    <li><a href="#Collection.Name">func (Collection) Name</a>
    <li><a href="#Collection.Remove">func (Collection) Remove</a>
    <li><a href="#Collection.RemoveFirst">func (Collection) RemoveFirst</a>
    <li><a href="#Collection.Update">func (Collection) Update</a>
    <li><a href="#Collection.UpdateAll">func (Collection) UpdateAll</a>
    <li><a href="#Collection.Upsert">func (Collection) Upsert</a>
            </ul>
<li><a href="#CommandResponse">type CommandResponse</a>
            <ul>
    <li><a href="#CommandResponse.Error">func (CommandResponse) Error</a>
            </ul>
<li><a href="#Conn">type Conn</a>
        <ul>
    <li><a href="#Dial">func Dial</a>
    <li><a href="#NewLoggingConn">func NewLoggingConn</a>
        </ul>
<li><a href="#Cursor">type Cursor</a>
<li><a href="#D">type D</a>
            <ul>
    <li><a href="#D.Append">func (*D) Append</a>
            </ul>
<li><a href="#DBRef">type DBRef</a>
<li><a href="#Database">type Database</a>
            <ul>
    <li><a href="#Database.C">func (Database) C</a>
    <li><a href="#Database.Dereference">func (Database) Dereference</a>
    <li><a href="#Database.LastError">func (Database) LastError</a>
    <li><a href="#Database.Run">func (Database) Run</a>
            </ul>
<li><a href="#DateTime">type DateTime</a>
<li><a href="#DecodeConvertError">type DecodeConvertError</a>
            <ul>
    <li><a href="#DecodeConvertError.String">func (*DecodeConvertError) String</a>
            </ul>
<li><a href="#DecodeTypeError">type DecodeTypeError</a>
            <ul>
    <li><a href="#DecodeTypeError.String">func (*DecodeTypeError) String</a>
            </ul>
<li><a href="#DocItem">type DocItem</a>
<li><a href="#EncodeTypeError">type EncodeTypeError</a>
            <ul>
    <li><a href="#EncodeTypeError.String">func (*EncodeTypeError) String</a>
            </ul>
<li><a href="#FindAndModifyOptions">type FindAndModifyOptions</a>
<li><a href="#FindOptions">type FindOptions</a>
<li><a href="#IndexOptions">type IndexOptions</a>
<li><a href="#M">type M</a>
<li><a href="#MinMax">type MinMax</a>
<li><a href="#MongoError">type MongoError</a>
            <ul>
    <li><a href="#MongoError.String">func (*MongoError) String</a>
            </ul>
<li><a href="#ObjectId">type ObjectId</a>
        <ul>
    <li><a href="#MaxObjectIdForTime">func MaxObjectIdForTime</a>
    <li><a href="#MinObjectIdForTime">func MinObjectIdForTime</a>
    <li><a href="#NewObjectId">func NewObjectId</a>
    <li><a href="#NewObjectIdHex">func NewObjectIdHex</a>
    <li><a href="#ObjectId.CreationTime">func (ObjectId) CreationTime</a>
    <li><a href="#ObjectId.String">func (ObjectId) String</a>
        </ul>
<li><a href="#Pool">type Pool</a>
        <ul>
    <li><a href="#NewDialPool">func NewDialPool</a>
    <li><a href="#NewPool">func NewPool</a>
    <li><a href="#Pool.Get">func (*Pool) Get</a>
        </ul>
<li><a href="#Query">type Query</a>
            <ul>
    <li><a href="#Query.BatchSize">func (*Query) BatchSize</a>
    <li><a href="#Query.Count">func (*Query) Count</a>
    <li><a href="#Query.Cursor">func (*Query) Cursor</a>
    <li><a href="#Query.Exhaust">func (*Query) Exhaust</a>
    <li><a href="#Query.Explain">func (*Query) Explain</a>
    <li><a href="#Query.Fields">func (*Query) Fields</a>
    <li><a href="#Query.Fill">func (*Query) Fill</a>
    <li><a href="#Query.Hint">func (*Query) Hint</a>
    <li><a href="#Query.Limit">func (*Query) Limit</a>
    <li><a href="#Query.One">func (*Query) One</a>
    <li><a href="#Query.PartialResults">func (*Query) PartialResults</a>
    <li><a href="#Query.Skip">func (*Query) Skip</a>
    <li><a href="#Query.SlaveOk">func (*Query) SlaveOk</a>
    <li><a href="#Query.Sort">func (*Query) Sort</a>
    <li><a href="#Query.Tailable">func (*Query) Tailable</a>
            </ul>
<li><a href="#QuerySpec">type QuerySpec</a>
<li><a href="#Regexp">type Regexp</a>
<li><a href="#RemoveOptions">type RemoveOptions</a>
<li><a href="#Symbol">type Symbol</a>
<li><a href="#Timestamp">type Timestamp</a>
<li><a href="#UpdateOptions">type UpdateOptions</a>
</ul>

<h2 id="package">Package</h2>

<p><code>import "github.com/garyburd/go-mongo"</code></p>

<p>
The mongo package is a driver for MongoDB.
</p>
<p>
The core interface to MongoDB is defined by the Conn interface. This
interface provides access to all MongoDB functionality, but it is is not
always convenient to use for common tasks.
</p>
<p>
The Database, Collection and Query types provide a number of convenience
methods for working with Conn objects.
</p>



<h2 id="variables">Variables</h2>

<pre>
var DefaultLastErrorCmd interface{} = map[string]int{&#34;getLastError&#34;: 1}
</pre>

<pre>
var (
 // No more data in cursor.
 EOF = os.NewError(&#34;mongo: eof&#34;)
)
</pre>

<pre>
var ErrEOD = os.NewError(&#34;bson: unexpected end of data when parsing BSON&#34;)
</pre>

<h2 id="Decode">func <a href="https://github.com/garyburd/go-mongo/blob/master/bson_decode.go#L74">Decode</a></h2>
<p><code>func Decode(data []byte, v interface{}) (err os.Error)</code></p>
<p>
Deocde decodes BSON data to value v.
</p>
<p>
Decode traverses the value v recursively. Decode uese the inverse of the
encodings supported by Encode, allocating maps, slices and pointers as
needed. The following conversions from BSON types to GO types are supported:
</p>
<pre>BSON                -&gt; Go
Integer32           -&gt; signed and unsigned integers, floats, bool
Integer64           -&gt; signed and unsigned integers, floats, bool
Array               -&gt; []interface{}, other slice types
Binary              -&gt; []byte
Boolean             -&gt; bool
Datetime            -&gt; mongo.Datetime, int64
Document            -&gt; map[string]interface{}, struct types
Double              -&gt; signed and unsigned integers, floats, bool
MinValue, MaxValue  -&gt; mongo.MinMax
ObjectID            -&gt; mongo.ObjectId
Symbol              -&gt; mongo.Symbol, string
Timestamp           -&gt; mongo.Timestamp, int64
string              -&gt; string
</pre>
<p>
If a number overflows the target type or the BSON value cannot be converted
to the target type, then the decoding completes the best it can and an error
is returned.
</p>
<p>
To decode a BSON value into a nil interface value, the first type listed in
the right hand column of the table above is used.
</p>

<h2 id="Encode">func <a href="https://github.com/garyburd/go-mongo/blob/master/bson_encode.go#L94">Encode</a></h2>
<p><code>func Encode(buf []byte, doc interface{}) (result []byte, err os.Error)</code></p>
<p>
Encode appends the BSON encoding of doc to buf and returns the new slice.
</p>
<p>
Encode traverses the value doc recursively using the following
type-dependent encodings:
</p>
<p>
Struct values encode as BSON documents. The struct field tag specifies the
encoded name of the field and encoding options. The options follow the name
and are proceeded by a &#39;/&#39;. If the name is not specified in the tag, then
the field name defaults to the structure field name. Unexported fields and
fields equal to nil are not encoded. The following option is supported:
</p>
<pre>/c  If the field is the zero value, then the field is not
    written to the encoding.
</pre>
<p>
Array and slice values encode as BSON arrays.
</p>
<p>
Map values encode as BSON documents. The map&#39;s key type must be string; the
object keys are used directly as map keys.
</p>
<p>
Pointer values encode as the value pointed to.
</p>
<p>
Interface values encode as the value contained in the interface.
</p>
<p>
Other types are encoded as follows
</p>
<pre>Go                  -&gt; BSON
bool                -&gt; Boolean
float32             -&gt; Double
float64             -&gt; Double
int, uint, uint32   -&gt; Integer32 if value fits in int32, else Integer64
int8, int16, int32  -&gt; Integer32
uint8, uint16       -&gt; Integer32
int64, uint64       -&gt; Integer64
string              -&gt; String
[]byte              -&gt; Binary data
mongo.Code          -&gt; Javascript code
mongo.CodeWithScope -&gt; Javascript code with scope
mongo.DateTime      -&gt; UTC Datetime
mongo.D             -&gt; Document. Use when element order is important.
mongo.MinMax        -&gt; Minimum / Maximum value
mongo.ObjectId      -&gt; ObjectId
mongo.Regexp        -&gt; Regular expression
mongo.Symbol        -&gt; Symbol
mongo.Timestamp     -&gt; Timestamp
</pre>
<p>
Other types including channels, complex and function values cannot be encoded.
</p>
<p>
BSON cannot represent cyclic data structure and Encode does not handle them.
Passing cyclic structures to Encode will result in an infinite recursion.
</p>

<h2 id="IndexName">func <a href="https://github.com/garyburd/go-mongo/blob/master/collection.go#L116">IndexName</a></h2>
<p><code>func IndexName(keys D) string</code></p>
<p>
IndexName returns the standard name for an index with keys.
</p>

<h2 id="SplitNamespace">func <a href="https://github.com/garyburd/go-mongo/blob/master/database.go#L28">SplitNamespace</a></h2>
<p><code>func SplitNamespace(s string) (string, string)</code></p>
<p>
SplitNamespace splits a namespace into database name and collection name
components.
</p>

<h2 id="StructFields">func <a href="https://github.com/garyburd/go-mongo/blob/master/bson.go#L359">StructFields</a></h2>
<p><code>func StructFields(t reflect.Type) interface{}</code></p>
<p>
StructFields returns a MongoDB field specification for the given struct
type.
</p>


<h2 id="A">type A</h2>
<p>
A is a shortcut for writing []interface{} in BSON literal expressions. The
type A is encoded the same as the type []interface{}.
</p>

<pre>type A []interface{}</pre>





<h2 id="BSONData">type BSONData</h2>
<p>
BSONData represents a chunk of uninterpreted BSON data. Use this type to
copy raw data into or out of a BSON encoding.
</p>

<pre>type BSONData struct {
 Kind int
 Data []byte
}</pre>





<h2 id="Code">type Code</h2>
<p>
Code represents Javascript code in BSON.
</p>

<pre>type Code string</pre>





<h2 id="CodeWithScope">type CodeWithScope</h2>
<p>
CodeWithScope represents javascript in BSON.
</p>

<pre>type CodeWithScope struct {
 Code  string
 Scope map[string]interface{}
}</pre>





<h2 id="Collection">type Collection</h2>
<p>
Collection represents a MongoDB collection.
</p>

<pre>type Collection struct {
 // Connection to the database.
 Conn Conn

 // String with the format &#34;&lt;database&gt;.&lt;collection&gt;&#34; where &lt;database&gt; is the
 // name of the database and &lt;collection&gt; is the name of the collection. 
 Namespace string

 // Command used to check for errors after on insert, update or remove
 // operation on the collection. If nil, then errors are not checked.
 LastErrorCmd interface{}
}</pre>




    <h3 id="Collection.CreateIndex">func (Collection) <a href="https://github.com/garyburd/go-mongo/blob/master/collection.go#L168">CreateIndex</a></h3>
    <p><code>func (c Collection) CreateIndex(keys D, options *IndexOptions) os.Error</code></p>
    <p>
CreateIndex creates an index on keys.
</p>
<p>
More information:
</p>
<pre><a href="http://www.mongodb.org/display/DOCS/Indexes">http://www.mongodb.org/display/DOCS/Indexes</a>
</pre>

    <h3 id="Collection.Db">func (Collection) <a href="https://github.com/garyburd/go-mongo/blob/master/collection.go#L52">Db</a></h3>
    <p><code>func (c Collection) Db() Database</code></p>
    <p>
Db returns the database for this collection.
</p>

    <h3 id="Collection.Find">func (Collection) <a href="https://github.com/garyburd/go-mongo/blob/master/collection.go#L104">Find</a></h3>
    <p><code>func (c Collection) Find(filter interface{}) *Query</code></p>
    <p>
Find returns a query object for the given filter.
</p>

    <h3 id="Collection.FindAndRemove">func (Collection) <a href="https://github.com/garyburd/go-mongo/blob/master/collection.go#L241">FindAndRemove</a></h3>
    <p><code>func (c Collection) FindAndRemove(selector interface{}, options *FindAndModifyOptions, result interface{}) os.Error</code></p>
    <p>
FindAndRemove removes and returns a document specified by selector.
FindAndRemove is a wrapper around the MongoDB findAndModify command.
</p>
<p>
More information:
</p>
<pre><a href="http://www.mongodb.org/display/DOCS/findAndModify+Command">http://www.mongodb.org/display/DOCS/findAndModify+Command</a>
</pre>

    <h3 id="Collection.FindAndUpdate">func (Collection) <a href="https://github.com/garyburd/go-mongo/blob/master/collection.go#L217">FindAndUpdate</a></h3>
    <p><code>func (c Collection) FindAndUpdate(selector, update interface{}, options *FindAndModifyOptions, result interface{}) os.Error</code></p>
    <p>
FindAndUpdate updates and returns a document specified by selector with
operator update. FindAndUpdate is a wrapper around the MongoDB findAndModify
command.
</p>
<p>
More information:
</p>
<pre><a href="http://www.mongodb.org/display/DOCS/findAndModify+Command">http://www.mongodb.org/display/DOCS/findAndModify+Command</a>
</pre>

    <h3 id="Collection.Insert">func (Collection) <a href="https://github.com/garyburd/go-mongo/blob/master/collection.go#L72">Insert</a></h3>
    <p><code>func (c Collection) Insert(documents ...interface{}) os.Error</code></p>
    <p>
Insert adds document to the collection.
</p>

    <h3 id="Collection.Name">func (Collection) <a href="https://github.com/garyburd/go-mongo/blob/master/collection.go#L46">Name</a></h3>
    <p><code>func (c Collection) Name() string</code></p>
    <p>
Name returns the collection&#39;s name.
</p>

    <h3 id="Collection.Remove">func (Collection) <a href="https://github.com/garyburd/go-mongo/blob/master/collection.go#L99">Remove</a></h3>
    <p><code>func (c Collection) Remove(selector interface{}) os.Error</code></p>
    <p>
Remove removes all documents found by selector.
</p>

    <h3 id="Collection.RemoveFirst">func (Collection) <a href="https://github.com/garyburd/go-mongo/blob/master/collection.go#L94">RemoveFirst</a></h3>
    <p><code>func (c Collection) RemoveFirst(selector interface{}) os.Error</code></p>
    <p>
RemoveFirst removes the first document found by selector.
</p>

    <h3 id="Collection.Update">func (Collection) <a href="https://github.com/garyburd/go-mongo/blob/master/collection.go#L78">Update</a></h3>
    <p><code>func (c Collection) Update(selector, update interface{}) os.Error</code></p>
    <p>
Update updates the first document in the collection found by selector with
update.
</p>

    <h3 id="Collection.UpdateAll">func (Collection) <a href="https://github.com/garyburd/go-mongo/blob/master/collection.go#L89">UpdateAll</a></h3>
    <p><code>func (c Collection) UpdateAll(selector interface{}, update interface{}) os.Error</code></p>
    <p>
UpdateAll updates all documents matching selector with update.
</p>

    <h3 id="Collection.Upsert">func (Collection) <a href="https://github.com/garyburd/go-mongo/blob/master/collection.go#L84">Upsert</a></h3>
    <p><code>func (c Collection) Upsert(selector interface{}, update interface{}) os.Error</code></p>
    <p>
Upsert updates the first document found by selector with update. If no
document is found, then the update is inserted instead.
</p>


<h2 id="CommandResponse">type CommandResponse</h2>
<p>
CommandResponse contains the common fields in command responses from the
server.
</p>

<pre>type CommandResponse struct {
 Ok     bool   &#34;ok&#34;
 Errmsg string &#34;errmsg&#34;
}</pre>




    <h3 id="CommandResponse.Error">func (CommandResponse) <a href="https://github.com/garyburd/go-mongo/blob/master/database.go#L54">Error</a></h3>
    <p><code>func (s CommandResponse) Error() os.Error</code></p>
    <p>
Error returns the error from the response or nil.
</p>


<h2 id="Conn">type Conn</h2>
<p>
A Conn represents a connection to a MongoDB server.
</p>
<p>
When the application is done using the connection, the application must call
the connection Close() method to release the resources used by the
connection.
</p>
<p>
The methods in this interface use a namespace string to specify the database
and collection. A namespace string has the format &#34;&lt;database&gt;.&lt;collection&gt;&#34;
where &lt;database&gt; is the name of the database and &lt;collection&gt; is the name of
the collection.
</p>

<pre>type Conn interface {
 // Close releases the resources used by this connection.
 Close() os.Error

 // Error returns non-nil if the connection has a permanent error.
 Error() os.Error

 // Update document specified by selector with update.
 Update(namespace string, selector, update interface{}, options *UpdateOptions) os.Error

 // Insert documents.
 Insert(namespace string, documents ...interface{}) os.Error

 // Remove documents specified by selector.
 Remove(namespace string, selector interface{}, options *RemoveOptions) os.Error

 // Find documents specified by selector. The returned cursor must be closed.
 Find(namespace string, query interface{}, options *FindOptions) (Cursor, os.Error)
}</pre>



    <h3 id="Dial">func <a href="https://github.com/garyburd/go-mongo/blob/master/connection.go#L67">Dial</a></h3>
    <p><code>func Dial(addr string) (Conn, os.Error)</code></p>
    <p>
Dial connects to server at addr.
</p>

    <h3 id="NewLoggingConn">func <a href="https://github.com/garyburd/go-mongo/blob/master/log.go#L38">NewLoggingConn</a></h3>
    <p><code>func NewLoggingConn(conn Conn) Conn</code></p>
    <p>
NewLoggingConn returns logging wrapper around a connection.
</p>



<h2 id="Cursor">type Cursor</h2>
<p>
Cursor iterates over the results from a Find operation.
</p>
<p>
When the application is done using a cursor, the application must call the
cursor Close() method to release the resources used by the cursor.
</p>
<p>
An example use of a cursor is:
</p>
<pre> cursor, err := c.Find(&#34;db.coll&#34;, mongo.Doc{}, nil)
 if err != nil {
     return err
 }
 defer cursor.Close()

 for cursor.HasNext() {
     var m map[string]interface{}
     err = r.Next(&amp;m)
     if err != nil {
         return err
     }
     // Do something with result document m.
	}
</pre>
<p>
Tailable cursors are supported. When working with a tailable cursor, use the
expression cursor.Error() != nil to determine if the cursor is &#34;dead.&#34; See
<a href="http://www.mongodb.org/display/DOCS/Tailable+Cursors">http://www.mongodb.org/display/DOCS/Tailable+Cursors</a> for more discussion on
tailable cursors.
</p>

<pre>type Cursor interface {
 // Close releases the resources used by this connection. 
 Close() os.Error

 // Error returns non-nil if the cursor has a permanent error. 
 Error() os.Error

 // HasNext returns true if there are more documents to retrieve.
 HasNext() bool

 // Next fetches the next document from the cursor. Value must be a map or
 // a non-nil pointer to struct or map.
 Next(value interface{}) os.Error
}</pre>





<h2 id="D">type D</h2>
<p>
D represents an ordered BSON document. Use D for commands, index
specifications and other situations where the order of the key-value pairs
in a document is important.
</p>

<pre>type D []DocItem</pre>




    <h3 id="D.Append">func (*D) <a href="https://github.com/garyburd/go-mongo/blob/master/bson.go#L170">Append</a></h3>
    <p><code>func (d *D) Append(name string, value interface{})</code></p>
    <p>
Append adds an item to the document..
</p>


<h2 id="DBRef">type DBRef</h2>
<p>
DBRef is a reference to a document in a database. Use the Database
Dereference method to get the referenced document.
</p>
<p>
More information:
</p>
<p>
<a href="http://www.mongodb.org/display/DOCS/Database+References">http://www.mongodb.org/display/DOCS/Database+References</a>
</p>

<pre>type DBRef struct {
 // The target document&#39;s collection.
 Collection string &#34;$ref&#34;

 // The target document&#39;s id.
 Id ObjectId &#34;$id&#34;

 // The target document&#39;s database (optional).
 Database string &#34;$db/c&#34;
}</pre>





<h2 id="Database">type Database</h2>
<p>
Database represents a MongoDb database.
</p>

<pre>type Database struct {
 // Connection to the database.
 Conn Conn

 // Database name.
 Name string

 // Command used to check for errors after on insert, update or remove
 // operation on the collection. If nil, then errors are not checked.
 LastErrorCmd interface{}
}</pre>




    <h3 id="Database.C">func (Database) <a href="https://github.com/garyburd/go-mongo/blob/master/database.go#L82">C</a></h3>
    <p><code>func (db Database) C(name string) Collection</code></p>
    <p>
C returns the collection with name. This is a lightweight operation. The
method does not check to see if the collection exists in the database.
</p>

    <h3 id="Database.Dereference">func (Database) <a href="https://github.com/garyburd/go-mongo/blob/master/database.go#L171">Dereference</a></h3>
    <p><code>func (db Database) Dereference(ref DBRef, slaveOk bool, result interface{}) os.Error</code></p>
    <p>
Deference fetches the document specified by a database reference.
</p>

    <h3 id="Database.LastError">func (Database) <a href="https://github.com/garyburd/go-mongo/blob/master/database.go#L128">LastError</a></h3>
    <p><code>func (db Database) LastError(cmd interface{}) os.Error</code></p>
    <p>
LastError returns the last error for the database using cmd. If cmd is nil,
then the command {&#34;getLasetError&#34;: 1} is used to get the error.
</p>
<p>
More information:
</p>
<pre><a href="http://www.mongodb.org/display/DOCS/Last+Error+Commands">http://www.mongodb.org/display/DOCS/Last+Error+Commands</a>
</pre>

    <h3 id="Database.Run">func (Database) <a href="https://github.com/garyburd/go-mongo/blob/master/database.go#L95">Run</a></h3>
    <p><code>func (db Database) Run(cmd interface{}, result interface{}) os.Error</code></p>
    <p>
Run runs the command cmd on the database.
</p>
<p>
More information:
</p>
<pre><a href="http://www.mongodb.org/display/DOCS/Commands">http://www.mongodb.org/display/DOCS/Commands</a>
</pre>


<h2 id="DateTime">type DateTime</h2>
<p>
DateTime represents a BSON datetime. The value is in milliseconds since the
Unix epoch.
</p>

<pre>type DateTime int64</pre>





<h2 id="DecodeConvertError">type DecodeConvertError</h2>
<p>
DecodeConvertError is returned when decoder cannot convert BSON value to the
target type.
</p>

<pre>type DecodeConvertError struct {
 // contains unexported fields
}</pre>




    <h3 id="DecodeConvertError.String">func (*DecodeConvertError) <a href="https://github.com/garyburd/go-mongo/blob/master/bson_decode.go#L33">String</a></h3>
    <p><code>func (e *DecodeConvertError) String() string</code></p>
    

<h2 id="DecodeTypeError">type DecodeTypeError</h2>
<p>
DecodeTypeError is returned when the decoder encounters an unknown type in
the input.
</p>

<pre>type DecodeTypeError struct {
 // contains unexported fields
}</pre>




    <h3 id="DecodeTypeError.String">func (*DecodeTypeError) <a href="https://github.com/garyburd/go-mongo/blob/master/bson_decode.go#L43">String</a></h3>
    <p><code>func (e *DecodeTypeError) String() string</code></p>
    

<h2 id="DocItem">type DocItem</h2>

<pre>type DocItem struct {
 Key   string
 Value interface{}
}</pre>





<h2 id="EncodeTypeError">type EncodeTypeError</h2>
<p>
EncodeTypeError is the error indicating that Encode could not encode an input type.
</p>

<pre>type EncodeTypeError struct {
 Type reflect.Type
}</pre>




    <h3 id="EncodeTypeError.String">func (*EncodeTypeError) <a href="https://github.com/garyburd/go-mongo/blob/master/bson_encode.go#L37">String</a></h3>
    <p><code>func (e *EncodeTypeError) String() string</code></p>
    

<h2 id="FindAndModifyOptions">type FindAndModifyOptions</h2>
<p>
FindAndModifyOptions specifies options for the FindAndUpdate and FindAndRemove methods.
</p>

<pre>type FindAndModifyOptions struct {
 // Set to true if you want to return the modified object rather than the
 // original. Ignored for remove.
 New bool &#34;new/c&#34;

 // Specify subset of fields to return.
 Fields interface{} &#34;fields&#34;

 // Create object if it doesn&#39;t exist. Ignored for remove.
 Upsert bool &#34;upsert/c&#34;

 // If multiple docs match, choose the first one in the specified sort order
 // as the object to update. 
 Sort interface{} &#34;sort&#34;
}</pre>





<h2 id="FindOptions">type FindOptions</h2>
<p>
FindOptions specifies options for the Conn.Find method.
</p>

<pre>type FindOptions struct {
 // Optional document that limits the fields in the returned documents.
 // Fields contains one or more elements, each of which is the name of a
 // field that should be returned, and the integer value 1. 
 Fields interface{}

 // Do not close the cursor when no more data is available on the server.
 Tailable bool

 // Allow query of replica slave. 
 SlaveOk bool

 // Do not close the cursor on the server after a period of inactivity (10
 // minutes).
 NoCursorTimeout bool

 // Block at server for a short time if there&#39;s no data for a tailable cursor.
 AwaitData bool

 // Stream the data down from the server full blast. Normally the server
 // waits for a &#34;get more&#34; message before sending a batch of data to the
 // client. With this option set, the server sends batches of data without
 // waiting for the &#34;get more&#34; messages. 
 Exhaust bool

 // Allow partial results in sharded environment. Normally the query
 // will fail if a shard is not available.
 PartialResults bool

 // Skip specifies the number of documents the server should skip at the
 // beginning of the result set.
 Skip int

 // Sets the number of documents to return. 
 Limit int

 // Sets the batch size used for sending documents from the server to the
 // client.
 BatchSize int
}</pre>





<h2 id="IndexOptions">type IndexOptions</h2>
<p>
IndexOptions specifies options for the collection CreateIndex method.
</p>
<p>
More information:
</p>
<pre><a href="http://www.mongodb.org/display/DOCS/Indexes">http://www.mongodb.org/display/DOCS/Indexes</a>
</pre>

<pre>type IndexOptions struct {
 // Custom name for this index. If none specified, then a name will be generated.
 Name string &#34;name&#34;

 // Should this index guarantee uniqueness?
 Unique bool &#34;unique/c&#34;

 // Should duplicates be dropped when creating a unique index?
 DropDups bool &#34;dropDups/c&#34;

 // Build index in background.
 Background bool &#34;background/c&#34;

 // Do not index documents with missing key fields.
 Sparse bool &#34;sparse/c&#34;

 // Geospatial options
 Min  interface{} &#34;min&#34;
 Max  interface{} &#34;max&#34;
 Bits int         &#34;bits/c&#34;
}</pre>





<h2 id="M">type M</h2>
<p>
M is a shortcut for writing map[string]interface{} in BSON literal
expressions. The type M is encoded the same as the type
map[string]interface{}.
</p>

<pre>type M map[string]interface{}</pre>





<h2 id="MinMax">type MinMax</h2>
<p>
MinMax represents either a minimum or maximum BSON value.
</p>

<pre>type MinMax int</pre>

    
    <pre>
    const (
 // MaxValue is the maximum BSON value.
 MaxValue MinMax = 1
 // MinValue is the minimum BSON value.
 MinValue MinMax = -1
)
    </pre>




<h2 id="MongoError">type MongoError</h2>
<p>
MongoError represents an error for the connection mutation operations.
</p>

<pre>type MongoError struct {
 Err  string &#34;err&#34;
 N    int    &#34;n&#34;
 Code int    &#34;code&#34;
}</pre>




    <h3 id="MongoError.String">func (*MongoError) <a href="https://github.com/garyburd/go-mongo/blob/master/database.go#L42">String</a></h3>
    <p><code>func (e *MongoError) String() string</code></p>
    

<h2 id="ObjectId">type ObjectId</h2>
<p>
ObjectId represents a BSON object identifier.
</p>

<pre>type ObjectId string</pre>



    <h3 id="MaxObjectIdForTime">func <a href="https://github.com/garyburd/go-mongo/blob/master/bson.go#L111">MaxObjectIdForTime</a></h3>
    <p><code>func MaxObjectIdForTime(t int64) ObjectId</code></p>
    <p>
MaxObjectIdForTime returns the maximum object id for time t in seconds from
the epoch.
</p>

    <h3 id="MinObjectIdForTime">func <a href="https://github.com/garyburd/go-mongo/blob/master/bson.go#L117">MinObjectIdForTime</a></h3>
    <p><code>func MinObjectIdForTime(t int64) ObjectId</code></p>
    <p>
MinObjectIdForTime returns the minimum object id for time t in seconds from
the epoch.
</p>

    <h3 id="NewObjectId">func <a href="https://github.com/garyburd/go-mongo/blob/master/bson.go#L92">NewObjectId</a></h3>
    <p><code>func NewObjectId() ObjectId</code></p>
    <p>
NewObjectId returns a new object id. This function uses the following format
for object ids:
</p>
<pre>[0:4]  Big endian time since epoch in seconds. This is compatible
       with other drivers.

[4:12] Incrementing counter initialized with crypto random
       number. This ensures that object ids are unique, but
       is simpler than the format used by other drivers.
</pre>

    <h3 id="NewObjectIdHex">func <a href="https://github.com/garyburd/go-mongo/blob/master/bson.go#L98">NewObjectIdHex</a></h3>
    <p><code>func NewObjectIdHex(hexString string) (ObjectId, os.Error)</code></p>
    <p>
NewObjectIdString returns an object id initialized from the hexadecimal
encoding of the object id.
</p>


    <h3 id="ObjectId.CreationTime">func (ObjectId) <a href="https://github.com/garyburd/go-mongo/blob/master/bson.go#L122">CreationTime</a></h3>
    <p><code>func (id ObjectId) CreationTime() int64</code></p>
    <p>
CreationTime extracts the time the object id was created in seconds since the epoch.
</p>

    <h3 id="ObjectId.String">func (ObjectId) <a href="https://github.com/garyburd/go-mongo/blob/master/bson.go#L62">String</a></h3>
    <p><code>func (id ObjectId) String() string</code></p>
    

<h2 id="Pool">type Pool</h2>
<p>
Pool maintains a pool of database connections.
</p>
<p>
The following example shows how to use a pool in a web application. The
application creates a pool at application startup and makes it available to
request handlers, possibly using a global variable:
</p>
<pre>pool = mongo.NewDialPool(&#34;localhost&#34;, 2)
</pre>
<p>
This pool uses a simple database connection and a maximum of two idle
connections.
</p>
<p>
A request handler gets a connection from the pool and closes the connection
when the handler is done:
</p>
<pre>conn, err := pool.Get()
if err != nil {
    // handle the error
}
defer conn.Close()
// do something with the connection
</pre>
<p>
Close() returns the connection to the pool if there&#39;s room in the pool and
the connection does not have a permanent error. Otherwise, Close() releases
the resources used by the connection.
</p>

<pre>type Pool struct {
 // contains unexported fields
}</pre>



    <h3 id="NewDialPool">func <a href="https://github.com/garyburd/go-mongo/blob/master/pool.go#L57">NewDialPool</a></h3>
    <p><code>func NewDialPool(addr string, maxIdle int) *Pool</code></p>
    <p>
NewDialPool returns a new connection pool. The pool uses mongo.Dial to
create new connections and maintains a maximum of maxIdle connections.
</p>

    <h3 id="NewPool">func <a href="https://github.com/garyburd/go-mongo/blob/master/pool.go#L63">NewPool</a></h3>
    <p><code>func NewPool(newFn func() (Conn, os.Error), maxIdle int) *Pool</code></p>
    <p>
NewPool returns a new connection pool. The pool uses newFn to create
connections as needed and maintains a maximum of maxIdle idle connections.
</p>


    <h3 id="Pool.Get">func (*Pool) <a href="https://github.com/garyburd/go-mongo/blob/master/pool.go#L70">Get</a></h3>
    <p><code>func (p *Pool) Get() (Conn, os.Error)</code></p>
    <p>
Get returns an idle connection from the pool if available or creates a new
connection. The caller should Close() the connection to return the
connection to the pool.
</p>


<h2 id="Query">type Query</h2>
<p>
Query represents a query to the database.
</p>

<pre>type Query struct {
 Conn      Conn
 Namespace string
 Spec      QuerySpec
 Options   FindOptions
}</pre>




    <h3 id="Query.BatchSize">func (*Query) <a href="https://github.com/garyburd/go-mongo/blob/master/query.go#L103">BatchSize</a></h3>
    <p><code>func (q *Query) BatchSize(batchSize int) *Query</code></p>
    <p>
BatchSize sets the batch sized used for sending documents from the server to
the client.
</p>

    <h3 id="Query.Count">func (*Query) <a href="https://github.com/garyburd/go-mongo/blob/master/query.go#L159">Count</a></h3>
    <p><code>func (q *Query) Count() (int64, os.Error)</code></p>
    <p>
Count returns the number of documents that match the query. Limit and
skip are considered in the count.
</p>

    <h3 id="Query.Cursor">func (*Query) <a href="https://github.com/garyburd/go-mongo/blob/master/query.go#L215">Cursor</a></h3>
    <p><code>func (q *Query) Cursor() (Cursor, os.Error)</code></p>
    <p>
Cursor executes the query and returns a cursor over the results. Subsequent
changes to the query object are ignored by the cursor.
</p>

    <h3 id="Query.Exhaust">func (*Query) <a href="https://github.com/garyburd/go-mongo/blob/master/query.go#L141">Exhaust</a></h3>
    <p><code>func (q *Query) Exhaust(exhaust bool) *Query</code></p>
    <p>
Exhaust specifies if the server should stream data to the client full blast.
Normally the server waits for a &#34;get more&#34; message before sending a batch of
data to the client.  With this option set, the server sends batches of data
without waiting for the &#34;get more&#34; messages.
</p>

    <h3 id="Query.Explain">func (*Query) <a href="https://github.com/garyburd/go-mongo/blob/master/query.go#L247">Explain</a></h3>
    <p><code>func (q *Query) Explain(result interface{}) os.Error</code></p>
    <p>
Explain returns an explanation of how the server will execute the query.
</p>
<p>
More information:
</p>
<pre><a href="http://www.mongodb.org/display/DOCS/Optimization#Optimization-Explain">http://www.mongodb.org/display/DOCS/Optimization#Optimization-Explain</a>
</pre>

    <h3 id="Query.Fields">func (*Query) <a href="https://github.com/garyburd/go-mongo/blob/master/query.go#L115">Fields</a></h3>
    <p><code>func (q *Query) Fields(fields interface{}) *Query</code></p>
    <p>
Fields limits the fields in the returned documents. Fields contains one or
more elements, each of which is the name of a field that should be returned,
and the integer value 1.
</p>
<p>
More information:
</p>
<pre><a href="http://www.mongodb.org/display/DOCS/Retrieving+a+Subset+of+Fields">http://www.mongodb.org/display/DOCS/Retrieving+a+Subset+of+Fields</a>
</pre>

    <h3 id="Query.Fill">func (*Query) <a href="https://github.com/garyburd/go-mongo/blob/master/query.go#L223">Fill</a></h3>
    <p><code>func (q *Query) Fill(slice interface{}) (n int, err os.Error)</code></p>
    <p>
Fill executes the query and copies up to len(slice) documents to output. The
elements of slice must be valid document types (struct, map with string key)
or pointers to valid document types. The function returns the number of
documents in the result set.
</p>

    <h3 id="Query.Hint">func (*Query) <a href="https://github.com/garyburd/go-mongo/blob/master/query.go#L75">Hint</a></h3>
    <p><code>func (q *Query) Hint(hint interface{}) *Query</code></p>
    <p>
Hint specifies an index hint. The index is specified by (key, direction)
pairs. Direction is 1 for ascending order and -1 for descending order.
</p>
<p>
More information:
</p>
<pre><a href="http://www.mongodb.org/display/DOCS/Optimization#Optimization-Hint">http://www.mongodb.org/display/DOCS/Optimization#Optimization-Hint</a>
</pre>

    <h3 id="Query.Limit">func (*Query) <a href="https://github.com/garyburd/go-mongo/blob/master/query.go#L85">Limit</a></h3>
    <p><code>func (q *Query) Limit(limit int) *Query</code></p>
    <p>
Limit specifies the number of documents to return from the query.
</p>
<p>
More information:
</p>
<pre><a href="http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%7B%7Blimit%28%29%7D%7D">http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%7B%7Blimit%28%29%7D%7D</a>
</pre>

    <h3 id="Query.One">func (*Query) <a href="https://github.com/garyburd/go-mongo/blob/master/query.go#L202">One</a></h3>
    <p><code>func (q *Query) One(output interface{}) os.Error</code></p>
    <p>
One executes the query and returns the first result.
</p>

    <h3 id="Query.PartialResults">func (*Query) <a href="https://github.com/garyburd/go-mongo/blob/master/query.go#L132">PartialResults</a></h3>
    <p><code>func (q *Query) PartialResults(ok bool) *Query</code></p>
    <p>
PartialResults specifies if mongos can reply with partial results when a
shard is missing.
</p>

    <h3 id="Query.Skip">func (*Query) <a href="https://github.com/garyburd/go-mongo/blob/master/query.go#L96">Skip</a></h3>
    <p><code>func (q *Query) Skip(skip int) *Query</code></p>
    <p>
Skip specifies the number of documents the server should skip at the
beginning of the result set.
</p>
<p>
More information:
</p>
<pre><a href="http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%7B%7Bskip%28%29%7D%7D">http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%7B%7Bskip%28%29%7D%7D</a>
</pre>

    <h3 id="Query.SlaveOk">func (*Query) <a href="https://github.com/garyburd/go-mongo/blob/master/query.go#L125">SlaveOk</a></h3>
    <p><code>func (q *Query) SlaveOk(slaveOk bool) *Query</code></p>
    <p>
SlaveOk specifies if query can be routed to a slave.
</p>
<p>
More information:
</p>
<pre><a href="http://www.mongodb.org/display/DOCS/Querying#Querying-slaveOk">http://www.mongodb.org/display/DOCS/Querying#Querying-slaveOk</a>
</pre>

    <h3 id="Query.Sort">func (*Query) <a href="https://github.com/garyburd/go-mongo/blob/master/query.go#L64">Sort</a></h3>
    <p><code>func (q *Query) Sort(sort interface{}) *Query</code></p>
    <p>
Sort specifies the sort order for the result. The order is specified by
(key, direction) pairs. Direction is 1 for ascending order and -1 for
descending order.
</p>

    <h3 id="Query.Tailable">func (*Query) <a href="https://github.com/garyburd/go-mongo/blob/master/query.go#L152">Tailable</a></h3>
    <p><code>func (q *Query) Tailable(tailable bool) *Query</code></p>
    <p>
Tailable specifies if the server should not close the cursor when no more
data is available.
</p>
<p>
More informatoin:
</p>
<pre><a href="http://www.mongodb.org/display/DOCS/Tailable+Cursors">http://www.mongodb.org/display/DOCS/Tailable+Cursors</a>
</pre>


<h2 id="QuerySpec">type QuerySpec</h2>
<p>
QuerySpec is a helper for specifying complex queries.
</p>

<pre>type QuerySpec struct {
 // The filter. This field is required.
 Query interface{} &#34;$query&#34;

 // Sort order specified by (key, direction) pairs. The direction is 1 for
 // ascending order and -1 for descending order.
 Sort interface{} &#34;$orderby&#34;

 // If set to true, then the query returns an explain plan record the query.
 // See http://www.mongodb.org/display/DOCS/Optimization#Optimization-Explain
 Explain bool &#34;$explain/c&#34;

 // Index hint specified by (key, direction) pairs. 
 // See http://www.mongodb.org/display/DOCS/Optimization#Optimization-Hint
 Hint interface{} &#34;$hint&#34;

 // Snapshot mode assures that objects which update during the lifetime of a
 // query are returned once and only once.
 // See http://www.mongodb.org/display/DOCS/How+to+do+Snapshotted+Queries+in+the+Mongo+Database
 Snapshot bool &#34;$snapshot/c&#34;

 // Min and Max constrain matches to those having index keys between the min
 // and max keys specified.The Min value is included in the range and the
 // Max value is excluded.
 // See http://www.mongodb.org/display/DOCS/min+and+max+Query+Specifiers
 Min interface{} &#34;$min&#34;
 Max interface{} &#34;$max&#34;
}</pre>





<h2 id="Regexp">type Regexp</h2>
<p>
Regexp represents a BSON regular expression.
</p>

<pre>type Regexp struct {
 Pattern string
 // The valid options are:
 //	i	Case insensitive matching
 //	l	Make \w, \W, etc. locale-dependent
 //	m	Multiline matching
 //	s	Dotall mode
 //	u	Make \w, \W, etc. match Unicode
 //	x	Verbose mode
 // Options must be specified in alphabetical order.
 Options string
}</pre>





<h2 id="RemoveOptions">type RemoveOptions</h2>
<p>
RemoveOptions specifies options for the Conn.Remove method.
</p>

<pre>type RemoveOptions struct {
 // If true, then the database removes the first matching document in the
 // collection. Otherwise all matching documents are removed.
 Single bool
}</pre>





<h2 id="Symbol">type Symbol</h2>
<p>
Symbol represents a BSON symbol.
</p>

<pre>type Symbol string</pre>





<h2 id="Timestamp">type Timestamp</h2>
<p>
Timestamp represents a BSON timesamp.
</p>

<pre>type Timestamp int64</pre>





<h2 id="UpdateOptions">type UpdateOptions</h2>
<p>
UpdateOptions specifies options for the Conn.Update method.
</p>

<pre>type UpdateOptions struct {
 // If true, then the database inserts the supplied object into the
 // collection if no matching document is found.
 Upsert bool

 // If true, then the database updates all objects matching the query.
 Multi bool
}</pre>





<hr>
This page was generated automatically from the source code. If you installed
Go-Mongo using <a href="http://golang.org/cmd/goinstall/">goinstall</a>, then
you can also view the source documentation with <a
href="http://golang.org/cmd/godoc/">godoc</a>.  
</div>
</body>
</html>
