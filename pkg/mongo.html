<!DOCTYPE html>
<html>
<head>
<title>Go-Mongo: mongo</title>
<link rel="stylesheet" href="../static/base.css" type="text/css"/> 
</head>
<body>
<div id="content"> 
<h1><a href="..">Go-Mongo</a>: mongo</h1>

<h4>Table Of Contents</h4>
<ul>
<li><a href="#package">Package</a>
<li><a href="#variables">Variables</a>
<li><a href="#Count">func Count</a>
<li><a href="#Decode">func Decode</a>
<li><a href="#Encode">func Encode</a>
<li><a href="#FindAndRemove">func FindAndRemove</a>
<li><a href="#FindAndUpdate">func FindAndUpdate</a>
<li><a href="#FindOne">func FindOne</a>
<li><a href="#LastError">func LastError</a>
<li><a href="#RunCommand">func RunCommand</a>
<li><a href="#SafeInsert">func SafeInsert</a>
<li><a href="#SafeRemove">func SafeRemove</a>
<li><a href="#SafeUpdate">func SafeUpdate</a>
<li><a href="#SplitNamespace">func SplitNamespace</a>
<li><a href="#BSONData">type BSONData</a>
<li><a href="#Code">type Code</a>
<li><a href="#CodeWithScope">type CodeWithScope</a>
<li><a href="#CommandResponse">type CommandResponse</a>
            <ul>
    <li><a href="#CommandResponse.Error">func (CommandResponse) Error</a>
            </ul>
<li><a href="#Conn">type Conn</a>
        <ul>
    <li><a href="#Dial">func Dial</a>
    <li><a href="#NewLoggingConn">func NewLoggingConn</a>
        </ul>
<li><a href="#Cursor">type Cursor</a>
<li><a href="#DateTime">type DateTime</a>
<li><a href="#DecodeConvertError">type DecodeConvertError</a>
            <ul>
    <li><a href="#DecodeConvertError.String">func (*DecodeConvertError) String</a>
            </ul>
<li><a href="#DecodeTypeError">type DecodeTypeError</a>
            <ul>
    <li><a href="#DecodeTypeError.String">func (*DecodeTypeError) String</a>
            </ul>
<li><a href="#Doc">type Doc</a>
            <ul>
    <li><a href="#Doc.Append">func (*Doc) Append</a>
            </ul>
<li><a href="#DocItem">type DocItem</a>
<li><a href="#EncodeTypeError">type EncodeTypeError</a>
            <ul>
    <li><a href="#EncodeTypeError.String">func (*EncodeTypeError) String</a>
            </ul>
<li><a href="#FindAndModifyOptions">type FindAndModifyOptions</a>
<li><a href="#FindOptions">type FindOptions</a>
<li><a href="#MinMax">type MinMax</a>
<li><a href="#MongoError">type MongoError</a>
            <ul>
    <li><a href="#MongoError.String">func (*MongoError) String</a>
            </ul>
<li><a href="#ObjectId">type ObjectId</a>
        <ul>
    <li><a href="#MaxObjectIdForTime">func MaxObjectIdForTime</a>
    <li><a href="#MinObjectIdForTime">func MinObjectIdForTime</a>
    <li><a href="#NewObjectId">func NewObjectId</a>
    <li><a href="#NewObjectIdString">func NewObjectIdString</a>
    <li><a href="#ObjectId.CreationTime">func (ObjectId) CreationTime</a>
    <li><a href="#ObjectId.String">func (ObjectId) String</a>
        </ul>
<li><a href="#Pool">type Pool</a>
        <ul>
    <li><a href="#NewDialPool">func NewDialPool</a>
    <li><a href="#NewPool">func NewPool</a>
    <li><a href="#Pool.Get">func (*Pool) Get</a>
        </ul>
<li><a href="#QuerySpec">type QuerySpec</a>
<li><a href="#Regexp">type Regexp</a>
<li><a href="#RemoveOptions">type RemoveOptions</a>
<li><a href="#SafeConn">type SafeConn</a>
            <ul>
    <li><a href="#SafeConn.Insert">func (SafeConn) Insert</a>
    <li><a href="#SafeConn.Remove">func (SafeConn) Remove</a>
    <li><a href="#SafeConn.Update">func (SafeConn) Update</a>
            </ul>
<li><a href="#Symbol">type Symbol</a>
<li><a href="#Timestamp">type Timestamp</a>
<li><a href="#UpdateOptions">type UpdateOptions</a>
</ul>

<h2 id="package">Package</h2>

<p><code>import "github.com/garyburd/go-mongo"</code></p>

<p>
The mongo package is a driver for MongoDB.
</p>



<h2 id="variables">Variables</h2>

<pre>
var (
 // No more data in cursor.
 EOF = os.NewError(&#34;mongo: eof&#34;)
)
</pre>

<pre>
var ErrEOD = os.NewError(&#34;bson: unexpected end of data when parsing BSON&#34;)
</pre>

<h2 id="Count">func <a href="https://github.com/garyburd/go-mongo/blob/master/helpers.go#L216">Count</a></h2>
<p><code>func Count(conn Conn, namespace string, query interface{}, options *FindOptions) (int64, os.Error)</code></p>
<p>
Count returns the number of documents for query.
</p>

<h2 id="Decode">func <a href="https://github.com/garyburd/go-mongo/blob/master/bson_decode.go#L75">Decode</a></h2>
<p><code>func Decode(data []byte, v interface{}) (err os.Error)</code></p>
<p>
Deocde decodes BSON data to value v.
</p>
<p>
Decode traverses the value v recursively. Decode uese the inverse of the
encodings supported by Encode, allocating maps, slices and pointers as
needed. The following conversions from BSON types to GO types are supported:
</p>
<pre>BSON                -&gt; Go
32-bit integer      -&gt; int, int32, int64, float32, float64, bool
64-bit integer      -&gt; int64, int, int32, float32, float64, bool
Array               -&gt; []interface{}, other slice types
Binary              -&gt; []byte
Boolean             -&gt; bool
Datetime            -&gt; mongo.Datetime, int64
Document            -&gt; map[string]interface{}, struct types
Double              -&gt; float64, float32, int, int32, int64, bool
MinValue, MaxValue  -&gt; mongo.MinMax
ObjectID            -&gt; mongo.ObjectId
Symbol              -&gt; mongo.Symbol, string
Timestamp           -&gt; mongo.Timestamp, int64
string              -&gt; string
</pre>
<p>
If a number overflows the target type or the BSON value cannot be converted
to the target type, then the decoding completes the best it can and an error
is returned.
</p>
<p>
To decode a BSON value into a nil interface value, the first type listed in
the right hand column of the table above is used.
</p>

<h2 id="Encode">func <a href="https://github.com/garyburd/go-mongo/blob/master/bson_encode.go#L97">Encode</a></h2>
<p><code>func Encode(buf []byte, doc interface{}) (result []byte, err os.Error)</code></p>
<p>
Encode appends the BSON encoding of doc to buf and returns the new slice.
</p>
<p>
Encode traverses the value doc recursively using the following
type-dependent encodings:
</p>
<p>
Struct values encode as BSON documents. The struct field tag specifies the
encoded name of the field and encoding options. The options follow the name
and are proceeded by a &#39;/&#39;.  If the name is not specified in the tag, then
the field name defaults to the structure field name. Unexported fields and
fields equal to nil are note encoded.  The following option is supported:
</p>
<pre>/c  If the field is the zero value, then the field is not
    written to the encoding.
</pre>
<p>
Array and slice values encode as BSON arrays.
</p>
<p>
Map values encode as BSON documents. The map&#39;s key type must be string; the
object keys are used directly as map keys.
</p>
<p>
Pointer values encode as the value pointed to.
</p>
<p>
Interface values encode as the value contained in the interface.
</p>
<p>
Other types are encoded as follows
</p>
<pre>Go                  -&gt; BSON
bool                -&gt; Boolean
float32             -&gt; Double
float64             -&gt; Double
int32               -&gt; 32-bit Integer
int                 -&gt; 32-bit Integer
int64               -&gt; 64-bit Integer
string              -&gt; String
[]byte              -&gt; Binary data
mongo.Code          -&gt; Javascript code
mongo.CodeWithScope -&gt; Javascript code with scope
mongo.DateTime      -&gt; UTC Datetime
mongo.Doc           -&gt; Document. Use when element order is important.
mongo.MinMax        -&gt; Minimum / Maximum value
mongo.ObjectId      -&gt; ObjectId
mongo.Regexp        -&gt; Regular expression
mongo.Symbol        -&gt; Symbol
mongo.Timestamp     -&gt; Timestamp
</pre>
<p>
Other types including channels, complex and function values cannot be encoded.
</p>
<p>
BSON cannot represent cyclic data structure and Encode does not handle them.
Passing cyclic structures to Encode will result in an infinite recursion.
</p>

<h2 id="FindAndRemove">func <a href="https://github.com/garyburd/go-mongo/blob/master/helpers.go#L278">FindAndRemove</a></h2>
<p><code>func FindAndRemove(conn Conn, namespace string, selector interface{}, options *FindAndModifyOptions, result interface{}) os.Error</code></p>
<p>
FindAndRemove removes and returns a document specified by selector.
FindAndRemove is a wrapper around the MongoDB findAndModify command.
</p>

<h2 id="FindAndUpdate">func <a href="https://github.com/garyburd/go-mongo/blob/master/helpers.go#L263">FindAndUpdate</a></h2>
<p><code>func FindAndUpdate(conn Conn, namespace string, selector, update interface{}, options *FindAndModifyOptions, result interface{}) os.Error</code></p>
<p>
FindAndUpdate updates and returns a document specified by selector with
operator update. FindAndUpdate is a wrapper around the MongoDB findAndModify
command.
</p>

<h2 id="FindOne">func <a href="https://github.com/garyburd/go-mongo/blob/master/helpers.go#L94">FindOne</a></h2>
<p><code>func FindOne(conn Conn, namespace string, query interface{}, options *FindOptions, result interface{}) os.Error</code></p>
<p>
FindOne returns a single result for a query.
</p>

<h2 id="LastError">func <a href="https://github.com/garyburd/go-mongo/blob/master/helpers.go#L143">LastError</a></h2>
<p><code>func LastError(conn Conn, namespace string, cmd Doc) os.Error</code></p>
<p>
LastError returns the last error for a database. The database is specified
by the database component of namespace. The command cmd is used to fetch the
last error. If cmd is nil, then the command {&#34;getLasetError&#34;: 1} is used to
get the error.
</p>

<h2 id="RunCommand">func <a href="https://github.com/garyburd/go-mongo/blob/master/helpers.go#L118">RunCommand</a></h2>
<p><code>func RunCommand(conn Conn, namespace string, cmd Doc, result interface{}) os.Error</code></p>
<p>
RunCommand executes the command cmd on the database specified by the
database component of namespace. The function returns an error if the &#34;ok&#34;
field in the command response is false.
</p>

<h2 id="SafeInsert">func <a href="https://github.com/garyburd/go-mongo/blob/master/helpers.go#L168">SafeInsert</a></h2>
<p><code>func SafeInsert(conn Conn, namespace string, errorCmd Doc, documents ...interface{}) os.Error</code></p>
<p>
SafeInsert returns the last error from the database after calling conn.Insert().
</p>

<h2 id="SafeRemove">func <a href="https://github.com/garyburd/go-mongo/blob/master/helpers.go#L184">SafeRemove</a></h2>
<p><code>func SafeRemove(conn Conn, namespace string, errorCmd Doc, selector interface{}, options *RemoveOptions) os.Error</code></p>
<p>
SafeRemove returns the last error from the database after calling conn.Remove().
</p>

<h2 id="SafeUpdate">func <a href="https://github.com/garyburd/go-mongo/blob/master/helpers.go#L176">SafeUpdate</a></h2>
<p><code>func SafeUpdate(conn Conn, namespace string, errorCmd Doc, selector, update interface{}, options *UpdateOptions) os.Error</code></p>
<p>
SafeUpdate returns the last error from the database after calling conn.Update().
</p>

<h2 id="SplitNamespace">func <a href="https://github.com/garyburd/go-mongo/blob/master/helpers.go#L54">SplitNamespace</a></h2>
<p><code>func SplitNamespace(s string) (string, string)</code></p>
<p>
SplitNamespace splits a namespace into database name and collection name
components.
</p>


<h2 id="BSONData">type BSONData</h2>
<p>
BSONData represents a chunk of uninterpreted BSON data. Use this type to
copy raw data into or out of a BSON encoding.
</p>

<pre>type BSONData struct {
 Kind int
 Data []byte
}</pre>





<h2 id="Code">type Code</h2>
<p>
Code represents Javascript code in BSON.
</p>

<pre>type Code string</pre>





<h2 id="CodeWithScope">type CodeWithScope</h2>
<p>
CodeWithScope represents javascript in BSON.
</p>

<pre>type CodeWithScope struct {
 Code  string
 Scope map[string]interface{}
}</pre>





<h2 id="CommandResponse">type CommandResponse</h2>
<p>
CommandResponse contains the common fields in command responses from the
server.
</p>

<pre>type CommandResponse struct {
 Ok     bool   &#34;ok&#34;
 Errmsg string &#34;errmsg&#34;
}</pre>




    <h3 id="CommandResponse.Error">func (CommandResponse) <a href="https://github.com/garyburd/go-mongo/blob/master/helpers.go#L80">Error</a></h3>
    <p><code>func (s CommandResponse) Error() os.Error</code></p>
    <p>
Error returns the error from the response or nil.
</p>


<h2 id="Conn">type Conn</h2>
<p>
A Conn represents a connection to a MongoDB server.
</p>
<p>
When the application is done using the connection, the application must call
the connection Close() method to release the resources used by the
connection.
</p>
<p>
The methods in this interface use a namespace string to specify the database
and collection. A namespace string has the format &#34;&lt;database&gt;.&lt;collection&gt;&#34;
where &lt;database&gt; is the name of the database and &lt;collection&gt; is the name of
the collection.
</p>

<pre>type Conn interface {
 // Close releases the resources used by this connection.
 Close() os.Error

 // Error returns non-nil if the connection has a permanent error.
 Error() os.Error

 // Update document specified by selector with update.
 Update(namespace string, selector, update interface{}, options *UpdateOptions) os.Error

 // Insert documents.
 Insert(namespace string, documents ...interface{}) os.Error

 // Remove documents specified by selector.
 Remove(namespace string, selector interface{}, options *RemoveOptions) os.Error

 // Find documents specified by selector. The returned cursor must be closed.
 Find(namespace string, query interface{}, options *FindOptions) (Cursor, os.Error)
}</pre>



    <h3 id="Dial">func <a href="https://github.com/garyburd/go-mongo/blob/master/connection.go#L46">Dial</a></h3>
    <p><code>func Dial(addr string) (Conn, os.Error)</code></p>
    <p>
Dial connects to server at addr.
</p>

    <h3 id="NewLoggingConn">func <a href="https://github.com/garyburd/go-mongo/blob/master/log.go#L36">NewLoggingConn</a></h3>
    <p><code>func NewLoggingConn(conn Conn) Conn</code></p>
    <p>
NewLoggingConn returns logging wrapper around a connection.
</p>



<h2 id="Cursor">type Cursor</h2>
<p>
Cursor iterates over the results from a Find operation.
</p>
<p>
When the application is done using a cursor, the application must call the
cursor Close() method to release the resources used by the cursor.
</p>
<p>
An example use of a cursor is:
</p>
<pre> cursor, err := c.Find(&#34;db.coll&#34;, mongo.Doc{}, nil)
 if err != nil {
     return err
 }
 defer cursor.Close()

 for cursor.HasNext() {
     var m map[string]interface{}
     err = r.Next(&amp;m)
     if err != nil {
         return err
     }
     // Do something with result document m.
	}
</pre>
<p>
Tailable cursors are supported. When working with a tailable cursor, use the
expression cursor.Error() != nil to determine if the cursor is &#34;dead.&#34; See
<a href="http://www.mongodb.org/display/DOCS/Tailable+Cursors">http://www.mongodb.org/display/DOCS/Tailable+Cursors</a> for more discussion on
tailable cursors.
</p>

<pre>type Cursor interface {
 // Close releases the resources used by this connection. 
 Close() os.Error

 // Error returns non-nil if the cursor has a permanent error. 
 Error() os.Error

 // HasNext returns true if there are more documents to retrieve.
 HasNext() bool

 // Next fetches the next document from the cursor.
 Next(value interface{}) os.Error
}</pre>





<h2 id="DateTime">type DateTime</h2>
<p>
DateTime represents a BSON datetime. The value is in milliseconds since the
Unix epoch.
</p>

<pre>type DateTime int64</pre>





<h2 id="DecodeConvertError">type DecodeConvertError</h2>
<p>
DecodeConvertError is returned when decoder cannot convert BSON value to the
target type.
</p>

<pre>type DecodeConvertError struct {
 // contains unexported fields
}</pre>




    <h3 id="DecodeConvertError.String">func (*DecodeConvertError) <a href="https://github.com/garyburd/go-mongo/blob/master/bson_decode.go#L34">String</a></h3>
    <p><code>func (e *DecodeConvertError) String() string</code></p>
    

<h2 id="DecodeTypeError">type DecodeTypeError</h2>
<p>
DecodeTypeError is returned when the decoder encounters an unknown type in
the input.
</p>

<pre>type DecodeTypeError struct {
 // contains unexported fields
}</pre>




    <h3 id="DecodeTypeError.String">func (*DecodeTypeError) <a href="https://github.com/garyburd/go-mongo/blob/master/bson_decode.go#L44">String</a></h3>
    <p><code>func (e *DecodeTypeError) String() string</code></p>
    

<h2 id="Doc">type Doc</h2>
<p>
Doc represents a BSON document. Use Doc when the order of the key-value
pairs is important.
</p>

<pre>type Doc []DocItem</pre>




    <h3 id="Doc.Append">func (*Doc) <a href="https://github.com/garyburd/go-mongo/blob/master/bson.go#L164">Append</a></h3>
    <p><code>func (d *Doc) Append(name string, value interface{})</code></p>
    <p>
Append adds an item to doc.
</p>


<h2 id="DocItem">type DocItem</h2>

<pre>type DocItem struct {
 Key   string
 Value interface{}
}</pre>





<h2 id="EncodeTypeError">type EncodeTypeError</h2>
<p>
EncodeTypeError is the error indicating that Encode could not encode an input type.
</p>

<pre>type EncodeTypeError struct {
 Type reflect.Type
}</pre>




    <h3 id="EncodeTypeError.String">func (*EncodeTypeError) <a href="https://github.com/garyburd/go-mongo/blob/master/bson_encode.go#L36">String</a></h3>
    <p><code>func (e *EncodeTypeError) String() string</code></p>
    

<h2 id="FindAndModifyOptions">type FindAndModifyOptions</h2>
<p>
FindAndModifyOptions specifies options for the FindAndUpdate and FindAndRemove functions.
</p>

<pre>type FindAndModifyOptions struct {
 // Set to true if you want to return the modified object rather than the original. Ignored for remove.
 New bool

 // Specify subset of fields to return.
 Fields interface{}

 // Create object if it doesn&#39;t exist. Ignored for remove.
 Upsert bool

 // If multiple docs match, choose the first one in the specified sort order
 // as the object to update.
 Sort Doc
}</pre>





<h2 id="FindOptions">type FindOptions</h2>
<p>
FindOptions specifies options for the Conn.Find method.
</p>

<pre>type FindOptions struct {
 // Optional document that limits the fields in the returned documents.
 // Fields contains one or more elements, each of which is the name of a
 // field that should be returned, and the integer value 1. 
 Fields interface{}

 // Tailable means cursor is not closed when the last data is retrieved.
 // Rather, the cursor marks the final object&#39;s position. You can resume
 // using the cursor later, from where it was located, if more data were
 // received. 
 Tailable bool

 // Allow query of replica slave. Normally these return an error except for
 // namespace &#34;local&#34;.
 SlaveOk bool

 // The server normally times out idle cursors after an inactivity period
 // (10 minutes) to prevent excess memory use. Set this option to prevent
 // that.
 NoCursorTimeout bool

 // Use with TailableCursor. If we are at the end of the data, block for a
 // while rather than returning no data. After a timeout period, we do
 // return as normal.
 AwaitData bool

 // Stream the data down full blast in multiple &#34;more&#34; packages, on the
 // assumption that the client will fully read all data queried. Faster when
 // you are pulling a lot of data and know you want to pull it all down.
 // Note: the client is not allowed to not read all the data unless it
 // closes the connection.
 Exhaust bool

 // Sets the number of documents to omit - starting from the first document
 // in the resulting dataset - when returning the result of the query.
 Skip int

 // Sets the number of documents to return. 
 Limit int

 // Sets the batch size used for sending documents from the server to the
 // client.
 BatchSize int
}</pre>





<h2 id="MinMax">type MinMax</h2>
<p>
MinMax represents either a minimum or maximum BSON value.
</p>

<pre>type MinMax int</pre>

    
    <pre>
    const (
 // MaxValue is the maximum BSON value.
 MaxValue MinMax = 1
 // MinValue is the minimum BSON value.
 MinValue MinMax = -1
)
    </pre>




<h2 id="MongoError">type MongoError</h2>
<p>
MongoError represents an error for the connection mutation operations.
</p>

<pre>type MongoError struct {
 Err  string
 N    int
 Code int
}</pre>




    <h3 id="MongoError.String">func (*MongoError) <a href="https://github.com/garyburd/go-mongo/blob/master/helpers.go#L68">String</a></h3>
    <p><code>func (e *MongoError) String() string</code></p>
    

<h2 id="ObjectId">type ObjectId</h2>
<p>
ObjectId represents a BSON object identifier.
</p>

<pre>type ObjectId string</pre>



    <h3 id="MaxObjectIdForTime">func <a href="https://github.com/garyburd/go-mongo/blob/master/bson.go#L109">MaxObjectIdForTime</a></h3>
    <p><code>func MaxObjectIdForTime(t int64) ObjectId</code></p>
    <p>
MaxObjectIdForTime returns the maximum object id for time t in seconds from
the epoch.
</p>

    <h3 id="MinObjectIdForTime">func <a href="https://github.com/garyburd/go-mongo/blob/master/bson.go#L115">MinObjectIdForTime</a></h3>
    <p><code>func MinObjectIdForTime(t int64) ObjectId</code></p>
    <p>
MinObjectIdForTime returns the minimum object id for time t in seconds from
the epoch.
</p>

    <h3 id="NewObjectId">func <a href="https://github.com/garyburd/go-mongo/blob/master/bson.go#L90">NewObjectId</a></h3>
    <p><code>func NewObjectId() ObjectId</code></p>
    <p>
NewObjectId returns a new object id. This function uses the following format
for object ids:
</p>
<pre>[0:4]  Big endian time since epoch in seconds. This is compatible
       with other drivers.

[4:12] Incrementing counter initialized with crypto random
       number. This ensures that object ids are unique, but
       is simpler than the format used by other drivers.
</pre>

    <h3 id="NewObjectIdString">func <a href="https://github.com/garyburd/go-mongo/blob/master/bson.go#L96">NewObjectIdString</a></h3>
    <p><code>func NewObjectIdString(hexString string) (ObjectId, os.Error)</code></p>
    <p>
NewObjectIdString returns an object id initialized from the hexadecimal
encoding of the object id.
</p>


    <h3 id="ObjectId.CreationTime">func (ObjectId) <a href="https://github.com/garyburd/go-mongo/blob/master/bson.go#L120">CreationTime</a></h3>
    <p><code>func (id ObjectId) CreationTime() int64</code></p>
    <p>
CreationTime extracts the time the object id was created in seconds since the epoch.
</p>

    <h3 id="ObjectId.String">func (ObjectId) <a href="https://github.com/garyburd/go-mongo/blob/master/bson.go#L60">String</a></h3>
    <p><code>func (id ObjectId) String() string</code></p>
    

<h2 id="Pool">type Pool</h2>
<p>
Pool maintains a pool of database connections.
</p>
<p>
The following example shows how to use a pool in a web application. The
application creates a pool at application startup and makes it available to
request handlers, possibly using a global variable:
</p>
<pre>pool = mongo.NewDialPool(&#34;localhost&#34;, 2)
</pre>
<p>
This pool uses a simple database connection and a maximum of two idle
connections.
</p>
<p>
A request handler gets a connection from the pool and closes the connection
when the handler is done:
</p>
<pre>conn, err := pool.Get()
if err != nil {
    // handle the error
}
defer conn.Close()
// do something with the connection
</pre>
<p>
Close() returns the connection to the pool if there&#39;s room in the pool and
the connection does not have a permanent error. Otherwise, Close() releases
the resources used by the connection.
</p>

<pre>type Pool struct {
 // contains unexported fields
}</pre>



    <h3 id="NewDialPool">func <a href="https://github.com/garyburd/go-mongo/blob/master/pool.go#L57">NewDialPool</a></h3>
    <p><code>func NewDialPool(addr string, maxIdle int) *Pool</code></p>
    <p>
NewDialPool returns a new connection pool. The pool uses mongo.Dial to
create new connections and maintains a maximum of maxIdle connections.
</p>

    <h3 id="NewPool">func <a href="https://github.com/garyburd/go-mongo/blob/master/pool.go#L63">NewPool</a></h3>
    <p><code>func NewPool(newFn func() (Conn, os.Error), maxIdle int) *Pool</code></p>
    <p>
NewPool returns a new connection pool. The pool uses newFn to create
connections as needed and maintains a maximum of maxIdle idle connections.
</p>


    <h3 id="Pool.Get">func (*Pool) <a href="https://github.com/garyburd/go-mongo/blob/master/pool.go#L70">Get</a></h3>
    <p><code>func (p *Pool) Get() (Conn, os.Error)</code></p>
    <p>
Get returns an idle connection from the pool if available or creates a new
connection. The caller should Close() the connection to return the
connection to the pool.
</p>


<h2 id="QuerySpec">type QuerySpec</h2>
<p>
QuerySpec is a helper for specifying complex queries.
</p>

<pre>type QuerySpec struct {
 // The filter. This field is required.
 Query interface{} &#34;$query&#34;

 // Sort order specified by (key, direction) pairs. The direction is 1 for
 // ascending order and -1 for descending order.
 Sort Doc &#34;$orderby&#34;

 // If set to true, then the query returns an explain plan record the query.
 // See http://www.mongodb.org/display/DOCS/Optimization#Optimization-Explain
 Explain bool &#34;$explain/c&#34;

 // Index hint specified by (key, direction) pairs. 
 // See http://www.mongodb.org/display/DOCS/Optimization#Optimization-Hint
 Hint Doc &#34;$hint&#34;

 // Snapshot mode assures that objects which update during the lifetime of a
 // query are returned once and only once.
 // See http://www.mongodb.org/display/DOCS/How+to+do+Snapshotted+Queries+in+the+Mongo+Database
 Snapshot bool &#34;$snapshot/c&#34;

 // Min and Max constrain matches to those having index keys between the min
 // and max keys specified.The Min value is included in the range and the
 // Max value is excluded.
 // See http://www.mongodb.org/display/DOCS/min+and+max+Query+Specifiers
 Min interface{} &#34;$min&#34;
 Max interface{} &#34;$max&#34;
}</pre>





<h2 id="Regexp">type Regexp</h2>
<p>
Regexp represents a BSON regular expression.
</p>

<pre>type Regexp struct {
 Pattern string
 // The valid options are:
 //	i	Case insensitive matching
 //	l	Make \w, \W, etc. locale-dependent
 //	m	Multiline matching
 //	s	Dotall mode
 //	u	Make \w, \W, etc. match Unicode
 //	x	Verbose mode
 // Options must be specified in alphabetical order.
 Options string
}</pre>





<h2 id="RemoveOptions">type RemoveOptions</h2>
<p>
RemoveOptions specifies options for the Conn.Remove method.
</p>

<pre>type RemoveOptions struct {
 // If true, then the database will remove only the first matching document in the
 // collection. Otherwise all matching documents will be removed.
 Single bool
}</pre>





<h2 id="SafeConn">type SafeConn</h2>
<p>
SafeConn wraps a connection with safe mode handling. The wrapper fetches the
last error from the server after each call to a mutating operation (insert,
update, remove) and returns the error if any as an os.Error.
</p>

<pre>type SafeConn struct {
 // The connecion to wrap.
 Conn

 // The command document used to fetch the last error. If cmd is nil, then
 // the command {&#34;getLastError&#34;: 1} is used as the command.
 Cmd Doc
}</pre>




    <h3 id="SafeConn.Insert">func (SafeConn) <a href="https://github.com/garyburd/go-mongo/blob/master/helpers.go#L207">Insert</a></h3>
    <p><code>func (c SafeConn) Insert(namespace string, documents ...interface{}) os.Error</code></p>
    
    <h3 id="SafeConn.Remove">func (SafeConn) <a href="https://github.com/garyburd/go-mongo/blob/master/helpers.go#L211">Remove</a></h3>
    <p><code>func (c SafeConn) Remove(namespace string, selector interface{}, options *RemoveOptions) os.Error</code></p>
    
    <h3 id="SafeConn.Update">func (SafeConn) <a href="https://github.com/garyburd/go-mongo/blob/master/helpers.go#L203">Update</a></h3>
    <p><code>func (c SafeConn) Update(namespace string, selector, update interface{}, options *UpdateOptions) os.Error</code></p>
    

<h2 id="Symbol">type Symbol</h2>
<p>
Symbol represents a BSON symbol.
</p>

<pre>type Symbol string</pre>





<h2 id="Timestamp">type Timestamp</h2>
<p>
Timestamp represents a BSON timesamp.
</p>

<pre>type Timestamp int64</pre>





<h2 id="UpdateOptions">type UpdateOptions</h2>
<p>
UpdateOptions specifies options for the Conn.Update method.
</p>

<pre>type UpdateOptions struct {
 // If true, then the database will insert the supplied object into the
 // collection if no matching document is found.
 Upsert bool

 // If true, then the database will update all objects matching the query.
 Multi bool
}</pre>





<hr>
This page was generated automatically from the source code. If you installed
Go-Mongo using <a href="http://golang.org/cmd/goinstall/">goinstall</a>, then
you can also view the source documentation with <a
href="http://golang.org/cmd/godoc/">godoc</a>.  
</div>
</body>
</html>
